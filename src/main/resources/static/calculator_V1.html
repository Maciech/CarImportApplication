<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
            name="description"
            content="A layout example that shows off a responsive photo gallery."
    />
    <title>Photo Gallery &ndash; Layout Examples &ndash; Pure</title>
    <link rel="stylesheet" href="/css/pure/pure-min.css" />
    <link rel="stylesheet" href="/css/pure/grids-responsive-min.css" />
    <link rel="stylesheet" href="styles_welcomePage_V3.css" />
</head>
<body>
<div>
    <div class="header">
        <div class="pure-menu pure-menu-horizontal">
            <a class="pure-menu-heading" href="">Photo Gallery</a>

            <ul class="pure-menu-list">
                <li class="pure-menu-item pure-menu-selected">
                    <a href="/welcomePage_V3.html" class="pure-menu-link">Home</a>
                </li>
                <li class="pure-menu-item">
                    <a href="#" class="pure-menu-link">Blog</a>
                </li>
                <li class="pure-menu-item">
                    <a href="#" class="pure-menu-link">About</a>
                </li>
            </ul>
        </div>
    </div>

    <h1>Wartość double: <span id="doubleValueSpan" th:text="${doubleValue}"></span></h1>
    <div>
        <form id="myForm">
            <label for="carBid">Podaj wartość licytowaną:</label>
            <input type="text" id="carBid" placeholder="Car bid value" name="carBid" />
            <input type="text" id="carTransport" placeholder="Car bid value" name="carTransport" />
            <br />
            <button type="button" onclick="sendData()">Wyślij</button>
        </form>
    </div>

    <div class="footer">
        View the source of this layout to learn more. Made with love by the Pure
        Team.
    </div>
</div>
<script>
    function sendData() {
        var carBid = document.getElementById('carBid');
        var carTransport = document.getElementById('carTransport');
        var carBidValue = carBid.value;
        var carTransportValue = carTransport.value;

        fetch('/calculator', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ carBid: carBidValue })
        })
        .then(function(response) {
            if (response.ok) {
                return response.json();
            } else {
                throw new Error('Błąd podczas przetwarzania danych.');
            }
        })
        .then(function(data) {
            // Obsługa odpowiedzi z serwera
            console.log(data);
        })
        .catch(function(error) {
            // Obsługa błędów
            console.error(error);
        });
    }
</script>
</body>
</html>
